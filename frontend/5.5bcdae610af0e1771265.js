(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{d7gL:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomerModule",function(){return ue});var i=n("SVse"),r=n("iInd"),c=n("s7LF"),a=n("7B+B"),o=n("LetT"),s=n("gd1p"),b=n("p46w"),d=n.n(b),u=n("8Y7J"),l=n("nbgS"),m=n("tKwJ");function p(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Name is required"),u.Sb())}function f(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,p,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.name.errors.required)}}function g(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Image is required"),u.Sb())}function h(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,g,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.image.errors.required)}}function y(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Address is required"),u.Sb())}function C(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,y,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.address.errors.required)}}function S(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Mobile is required"),u.Sb())}function T(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,S,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.mobile.errors.required)}}function v(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Fax is required"),u.Sb())}function w(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,v,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.fax.errors.required)}}function O(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Email is required"),u.Sb())}function B(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,O,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.email.errors.required)}}function q(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Discount Rate is required"),u.Sb())}function M(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,q,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.discountRate.errors.required)}}function I(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Customer Company Name is required"),u.Sb())}function P(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,I,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.customerCompany.errors.required)}}function _(e,t){1&e&&(u.Tb(0,"div"),u.yc(1,"Matricule Fiscal is required"),u.Sb())}function x(e,t){if(1&e&&(u.Tb(0,"div",6),u.wc(1,_,2,0,"div",27),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",e.f.matriculeFiscal.errors.required)}}function R(e,t){if(1&e&&(u.Tb(0,"nb-option",29),u.yc(1),u.Sb()),2&e){const e=t.$implicit,n=t.index;u.ic("value",e.id||n),u.Bb(1),u.zc(e.name)}}function D(e,t){1&e&&(u.Tb(0,"span"),u.yc(1,"Save"),u.Sb())}function N(e,t){if(1&e&&(u.Tb(0,"span",30),u.yc(1,"Loading..."),u.Sb()),2&e){const e=u.cc();u.ic("nbSpinner",e.loadingSpinner)}}const F=function(e){return{"is-invalid":e}};let G=(()=>{class e{constructor(e,t,n,i){this.apollo=e,this.router=t,this.route=n,this.formBuilder=i,this.customer={id:"",name:"",image:"",address:"",mobile:0,fax:0,email:"",discountRate:0,customerCompany:"",matriculeFiscal:"",company:""},this.id="",this.name="",this.image="",this.address="",this.mobile=0,this.fax=0,this.email="",this.discountRate=0,this.customerCompany="",this.matriculeFiscal="",this.company="",this.submitted=!1,this.loadingSpinner=!1}ngOnInit(){this.selectedCompany=d.a.get("companyId"),this.getCompanies(),this.form=this.formBuilder.group({name:["",[c.q.required,o.a]],image:["",[c.q.required,o.a]],address:["",[c.q.required,o.a]],mobile:["",[c.q.required]],fax:["",[c.q.required]],email:["",[c.q.required,o.a]],discountRate:["",[c.q.required]],customerCompany:["",[c.q.required,o.a]],matriculeFiscal:["",[c.q.required,o.a]],company:["",[c.q.required]]});const e=this.route.snapshot.params.id;void 0!==e?(this.title="Update Customer",this.query=this.apollo.watchQuery({query:s.a,variables:{customerId:e}}).valueChanges.subscribe(e=>{this.customer=e.data.customer,this.id=this.customer.id,this.form.setValue({name:this.customer.name,image:this.customer.image,address:this.customer.address,mobile:this.customer.mobile,fax:this.customer.fax,email:this.customer.email,discountRate:this.customer.discountRate,customerCompany:this.customer.customerCompany,matriculeFiscal:this.customer.matriculeFiscal,company:this.selectedCompany})})):this.title="Create Customer",this.form.setValue({name:"",image:"",address:"",mobile:"",fax:"",email:"",discountRate:"",customerCompany:"",matriculeFiscal:"",company:this.selectedCompany})}get f(){return this.form.controls}onChange(e){this.selectedCompany=e}onSubmit(){void 0!==this.route.snapshot.params.id?this.update():this.create()}create(){this.submitted=!0;const e=this.form.value;this.form.invalid?console.log("form invalid"):(this.loadingSpinner=!0,this.apollo.mutate({mutation:s.c,variables:{name:e.name,image:e.image,address:e.address,mobile:e.mobile,fax:e.fax,email:e.email,discountRate:e.discountRate,customerCompany:e.customerCompany,matriculeFiscal:e.matriculeFiscal,company:e.company}}).subscribe(({})=>{this.loadingSpinner=!1,this.router.navigate(["/customers"]),this.submitted=!1,this.form.reset()},e=>{this.loadingSpinner=!1,this.queryError="Customer Name already exist"}))}update(){this.submitted=!0;const e=this.form.value;this.form.invalid?console.log("form invalid"):(this.loadingSpinner=!0,this.apollo.mutate({mutation:s.d,variables:{id:this.id,name:e.name,image:e.image,address:e.address,mobile:e.mobile,fax:e.fax,email:e.email,discountRate:e.discountRate,customerCompany:e.customerCompany,matriculeFiscal:e.matriculeFiscal,company:e.company}}).subscribe(({})=>{this.loadingSpinner=!1,this.router.navigate(["/customers"]),this.submitted=!1,this.form.reset()},e=>{this.loadingSpinner=!1,this.queryError="Customer Name already exist"}))}getCompanies(){this.query=this.apollo.watchQuery({query:a.a}).valueChanges.subscribe(e=>{this.companies=e.data&&e.data.companies},e=>{console.log(e)})}ngOnDestroy(){this.query.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(l.b),u.Nb(r.c),u.Nb(r.a),u.Nb(c.b))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-customer-edit"]],decls:76,vars:45,consts:[[1,"centerElement"],[1,"titlecenter"],["novalidate","",3,"formGroup","ngSubmit"],["nbInput","","fullWidth","","shape","round","required","","id","name","type","text","formControlName","name",1,"full-width",3,"ngClass"],["for","name"],["aria-hidden","true"],[1,"invalid-feedback"],["class","invalid-feedback",4,"ngIf"],["nbInput","","fullWidth","","shape","round","required","","id","image","type","text","formControlName","image",3,"ngClass"],["for","image"],["nbInput","","fullWidth","","shape","round","required","","id","address","type","text","formControlName","address",3,"ngClass"],["for","address"],["nbInput","","fullWidth","","shape","round","required","","id","mobile","type","number","formControlName","mobile",3,"ngClass"],["for","mobile"],["nbInput","","fullWidth","","shape","round","required","","id","fax","type","number","formControlName","fax",3,"ngClass"],["for","fax"],["nbInput","","fullWidth","","shape","round","required","","id","email","type","text","formControlName","email",3,"ngClass"],["for","email"],["nbInput","","fullWidth","","shape","round","required","","id","discountRate","type","number","formControlName","discountRate",3,"ngClass"],["for","discountRate"],["nbInput","","fullWidth","","shape","round","required","","id","customerCompany","type","text","formControlName","customerCompany",3,"ngClass"],["for","customerCompany"],["nbInput","","fullWidth","","shape","round","required","","id","matriculeFiscal","type","text","formControlName","matriculeFiscal",3,"ngClass"],["for","matriculeFiscal"],["shape","round","filled","","status","info","formControlName","company","name","companies",1,"hidden",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["nbSpinnerSize","medium","nbSpinnerStatus","danger","nbButton","","shape","round","size","medium","status","success","type","submit",3,"nbSpinner","disabled"],[4,"ngIf"],[3,"nbSpinner",4,"ngIf"],[3,"value"],[3,"nbSpinner"]],template:function(e,t){1&e&&(u.Tb(0,"div",0),u.Tb(1,"h3",1),u.yc(2),u.Sb(),u.Tb(3,"form",2),u.ac("ngSubmit",function(){return t.onSubmit()}),u.Tb(4,"div"),u.Ob(5,"input",3),u.Tb(6,"label",4),u.yc(7,"Customer Name "),u.Tb(8,"span",5),u.yc(9,"*"),u.Sb(),u.Sb(),u.Tb(10,"div",6),u.Tb(11,"span"),u.yc(12),u.Sb(),u.Sb(),u.wc(13,f,2,1,"div",7),u.Sb(),u.Tb(14,"div"),u.Ob(15,"input",8),u.Tb(16,"label",9),u.yc(17,"Image "),u.Tb(18,"span",5),u.yc(19,"*"),u.Sb(),u.Sb(),u.wc(20,h,2,1,"div",7),u.Sb(),u.Tb(21,"div"),u.Ob(22,"input",10),u.Tb(23,"label",11),u.yc(24,"Address "),u.Tb(25,"span",5),u.yc(26,"*"),u.Sb(),u.Sb(),u.wc(27,C,2,1,"div",7),u.Sb(),u.Tb(28,"div"),u.Ob(29,"input",12),u.Tb(30,"label",13),u.yc(31,"Mobile Number "),u.Tb(32,"span",5),u.yc(33,"*"),u.Sb(),u.Sb(),u.wc(34,T,2,1,"div",7),u.Sb(),u.Tb(35,"div"),u.Ob(36,"input",14),u.Tb(37,"label",15),u.yc(38,"Fax "),u.Tb(39,"span",5),u.yc(40,"*"),u.Sb(),u.Sb(),u.wc(41,w,2,1,"div",7),u.Sb(),u.Tb(42,"div"),u.Ob(43,"input",16),u.Tb(44,"label",17),u.yc(45,"Email "),u.Tb(46,"span",5),u.yc(47,"*"),u.Sb(),u.Sb(),u.wc(48,B,2,1,"div",7),u.Sb(),u.Tb(49,"div"),u.Ob(50,"input",18),u.Tb(51,"label",19),u.yc(52,"Discount Rate "),u.Tb(53,"span",5),u.yc(54,"*"),u.Sb(),u.Sb(),u.wc(55,M,2,1,"div",7),u.Sb(),u.Tb(56,"div"),u.Ob(57,"input",20),u.Tb(58,"label",21),u.yc(59,"Customer Company Name "),u.Tb(60,"span",5),u.yc(61,"*"),u.Sb(),u.Sb(),u.wc(62,P,2,1,"div",7),u.Sb(),u.Tb(63,"div"),u.Ob(64,"input",22),u.Tb(65,"label",23),u.yc(66,"Matricule Fiscal "),u.Tb(67,"span",5),u.yc(68,"*"),u.Sb(),u.Sb(),u.wc(69,x,2,1,"div",7),u.Sb(),u.Tb(70,"div"),u.Tb(71,"nb-select",24),u.ac("selectedChange",function(e){return t.selectedCompany=e})("selectedChange",function(e){return t.onChange(e)}),u.wc(72,R,2,2,"nb-option",25),u.Sb(),u.Sb(),u.Tb(73,"button",26),u.wc(74,D,2,0,"span",27),u.wc(75,N,2,1,"span",28),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Bb(2),u.zc(t.title),u.Bb(1),u.ic("formGroup",t.form),u.Bb(2),u.ic("ngClass",u.lc(27,F,t.submitted&&t.f.name.errors)),u.Bb(7),u.Ac(" ",t.queryError," "),u.Bb(1),u.ic("ngIf",t.submitted&&t.f.name.errors),u.Bb(2),u.ic("ngClass",u.lc(29,F,t.submitted&&t.f.image.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.image.errors),u.Bb(2),u.ic("ngClass",u.lc(31,F,t.submitted&&t.f.address.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.address.errors),u.Bb(2),u.ic("ngClass",u.lc(33,F,t.submitted&&t.f.mobile.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.mobile.errors),u.Bb(2),u.ic("ngClass",u.lc(35,F,t.submitted&&t.f.fax.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.fax.errors),u.Bb(2),u.ic("ngClass",u.lc(37,F,t.submitted&&t.f.email.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.email.errors),u.Bb(2),u.ic("ngClass",u.lc(39,F,t.submitted&&t.f.discountRate.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.discountRate.errors),u.Bb(2),u.ic("ngClass",u.lc(41,F,t.submitted&&t.f.customerCompany.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.customerCompany.errors),u.Bb(2),u.ic("ngClass",u.lc(43,F,t.submitted&&t.f.matriculeFiscal.errors)),u.Bb(5),u.ic("ngIf",t.submitted&&t.f.matriculeFiscal.errors),u.Bb(2),u.ic("selected",t.selectedCompany),u.Bb(1),u.ic("ngForOf",t.companies),u.Bb(1),u.ic("nbSpinner",t.loadingSpinner)("disabled",t.form.invalid),u.Bb(1),u.ic("ngIf",!1===t.loadingSpinner),u.Bb(1),u.ic("ngIf",!0===t.loadingSpinner))},directives:[c.s,c.i,c.d,m.q,c.a,c.o,c.h,c.c,i.m,i.o,c.m,m.B,i.n,m.c,m.G,m.A],styles:["full-width[_ngcontent-%COMP%]{width:90%}.centerElement[_ngcontent-%COMP%]{margin:0 25%;width:50%}label[_ngcontent-%COMP%]{margin:0 3%}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{direction:ltr;text-align:left}input[_ngcontent-%COMP%]{margin:1% 0}.titlecenter[_ngcontent-%COMP%]{text-align:center;margin:5% 20%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;justify-content:center;margin:3% 40%}.invalid-feedback[_ngcontent-%COMP%]{text-align:left;margin:2% 0 2% 2%}.hidden[_ngcontent-%COMP%]{display:none!important}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{position:relative;width:100%}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%]{margin:0 15px;padding:0 0 5px;top:-37px;transition:all .5s ease-in-out;z-index:1}input[type][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], input[type][_ngcontent-%COMP%]:valid + label[_ngcontent-%COMP%]{top:-70px;font-size:.8em}"]}),e})();var z=n("Mpyp");function k(e,t){1&e&&u.Ob(0,"app-spinner")}const L=function(e){return["/customers/edit/",e]};function H(e,t){if(1&e){const e=u.Ub();u.Tb(0,"nb-card"),u.Tb(1,"nb-card-header"),u.Ob(2,"img",2),u.Sb(),u.Tb(3,"nb-card-body"),u.Tb(4,"table",3),u.Tb(5,"tr"),u.Tb(6,"th"),u.yc(7,"Customer Name"),u.Sb(),u.Tb(8,"th"),u.yc(9,"Address"),u.Sb(),u.Tb(10,"th"),u.yc(11,"Mobile"),u.Sb(),u.Tb(12,"th"),u.yc(13,"Fax"),u.Sb(),u.Tb(14,"th"),u.yc(15,"Email"),u.Sb(),u.Tb(16,"th"),u.yc(17,"Discount Rate"),u.Sb(),u.Tb(18,"th"),u.yc(19,"Customer Company"),u.Sb(),u.Tb(20,"th"),u.yc(21,"Matricule Fiscal"),u.Sb(),u.Tb(22,"th"),u.yc(23,"Created Date"),u.Sb(),u.Sb(),u.Tb(24,"tr"),u.Tb(25,"td"),u.yc(26),u.Sb(),u.Tb(27,"td"),u.yc(28),u.Sb(),u.Tb(29,"td"),u.yc(30),u.Sb(),u.Tb(31,"td"),u.yc(32),u.Sb(),u.Tb(33,"td"),u.yc(34),u.Sb(),u.Tb(35,"td"),u.yc(36),u.Sb(),u.Tb(37,"td"),u.yc(38),u.Sb(),u.Tb(39,"td"),u.yc(40),u.Sb(),u.Tb(41,"td"),u.yc(42),u.dc(43,"date"),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Tb(44,"nb-card-footer"),u.Tb(45,"button",4),u.Ob(46,"nb-icon",5),u.Sb(),u.Tb(47,"button",6),u.ac("click",function(){u.pc(e);const t=u.cc();return t.delete(t.customer.id)}),u.Ob(48,"nb-icon",7),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.cc();u.Bb(2),u.jc("src",e.customer.image,u.rc),u.jc("alt",e.customer.image),u.Bb(24),u.zc(e.customer.name),u.Bb(2),u.zc(e.customer.address),u.Bb(2),u.zc(e.customer.mobile),u.Bb(2),u.zc(e.customer.fax),u.Bb(2),u.zc(e.customer.email),u.Bb(2),u.Ac("",e.customer.discountRate," %"),u.Bb(2),u.zc(e.customer.customerCompany),u.Bb(2),u.zc(e.customer.matriculeFiscal),u.Bb(2),u.zc(u.ec(43,12,e.customer.created)),u.Bb(3),u.ic("routerLink",u.lc(14,L,e.customer.id))}}let W=(()=>{class e{constructor(e,t,n){this.apollo=e,this.router=t,this.route=n,this.loadingSpinner=!1,this.customer={id:"",name:"",image:"",address:"",mobile:"",fax:"",email:"",discountRate:"",customerCompany:"",matriculeFiscal:"",created:""}}ngOnInit(){this.getCustomer()}getCustomer(){this.loadingSpinner=!0,this.query=this.apollo.watchQuery({query:s.a,variables:{customerId:this.route.snapshot.params.id}}).valueChanges.subscribe(e=>{this.customer=e.data.customer,this.loadingSpinner=!1})}delete(e){this.apollo.mutate({mutation:s.e,variables:{id:this.route.snapshot.params.id}}).subscribe(({})=>{this.router.navigate(["/customers"])},e=>{console.log("there was an error sending the query",e)})}ngOnDestroy(){this.query.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(l.b),u.Nb(r.c),u.Nb(r.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-customer"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngIfCustomer","ngIf"],[3,"src","alt"],[1,"tableStyle"],["nbButton","","shape","rectangle","outline","","status","success","size","large",3,"routerLink"],["icon","edit-2-outline"],["nbButton","","shape","rectangle","outline","","status","success","size","large",3,"click"],["icon","trash-2-outline"]],template:function(e,t){1&e&&(u.wc(0,k,1,0,"app-spinner",0),u.wc(1,H,49,16,"nb-card",1)),2&e&&(u.ic("ngIf",!0===t.loadingSpinner),u.Bb(1),u.ic("ngIf",!1===t.loadingSpinner))},directives:[i.o,z.a,m.h,m.j,m.g,m.i,m.c,r.d,m.n],pipes:[i.e],styles:["nb-card[_ngcontent-%COMP%]{text-align:center;justify-content:center;margin:5% 10%;width:80%}img[_ngcontent-%COMP%]{margin:0;width:100%;height:300px}.tableStyle[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.tableStyle[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tableStyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.tableStyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:center;color:#fffaf0}nb-card-footer[_ngcontent-%COMP%]{justify-content:start;width:100%}button[_ngcontent-%COMP%]{text-align:center;width:30%}"]}),e})();var E=n("clcC"),Q=n("cZdB");function j(e,t){1&e&&u.Ob(0,"app-spinner")}function A(e,t){1&e&&(u.Tb(0,"h2"),u.yc(1,"No customers yet"),u.Sb())}function K(e,t){1&e&&u.Ob(0,"tr",18)}function J(e,t){1&e&&u.Ob(0,"tr",19)}function U(e,t){1&e&&(u.Tb(0,"th",20),u.yc(1,"ID"),u.Sb())}function V(e,t){if(1&e&&(u.Tb(0,"td",21),u.yc(1),u.Sb()),2&e){const e=t.index;u.Bb(1),u.zc(e+1)}}function $(e,t){1&e&&(u.Tb(0,"th",20),u.yc(1,"Name"),u.Sb())}function Y(e,t){if(1&e&&(u.Tb(0,"td",21),u.yc(1),u.Sb()),2&e){const e=t.$implicit;u.Bb(1),u.zc(e.name||"-")}}function X(e,t){1&e&&(u.Tb(0,"th",20),u.yc(1,"Discount %"),u.Sb())}function Z(e,t){if(1&e&&(u.Tb(0,"td",21),u.yc(1),u.Sb()),2&e){const e=t.$implicit;u.Bb(1),u.zc(e.discountRate||"-")}}function ee(e,t){1&e&&(u.Tb(0,"th",20),u.yc(1,"Details"),u.Sb())}const te=function(e){return["/customers/detail/",e]};function ne(e,t){1&e&&(u.Tb(0,"td",22),u.Ob(1,"nb-icon",23),u.Sb()),2&e&&u.ic("routerLink",u.lc(1,te,t.$implicit.id))}const ie=function(){return["/customers/create"]};function re(e,t){if(1&e){const e=u.Ub();u.Tb(0,"nb-card",2),u.Tb(1,"nb-card-body"),u.Tb(2,"div",3),u.Tb(3,"input",4),u.ac("ngModelChange",function(t){return u.pc(e),u.cc(2).searchedKeyword=t}),u.Sb(),u.Tb(4,"button",5),u.Ob(5,"nb-icon",6),u.Sb(),u.Sb(),u.Tb(6,"table",7),u.dc(7,"filter"),u.wc(8,K,1,0,"tr",8),u.wc(9,J,1,0,"tr",9),u.Rb(10,10),u.wc(11,U,2,0,"th",11),u.wc(12,V,2,1,"td",12),u.Qb(),u.Rb(13,13),u.wc(14,$,2,0,"th",11),u.wc(15,Y,2,1,"td",12),u.Qb(),u.Rb(16,14),u.wc(17,X,2,0,"th",11),u.wc(18,Z,2,1,"td",12),u.Qb(),u.Rb(19,15),u.wc(20,ee,2,0,"th",11),u.wc(21,ne,2,3,"td",16),u.Qb(),u.Sb(),u.Sb(),u.Tb(22,"nb-card-footer"),u.Tb(23,"app-pagination",17),u.ac("changePage",function(t){return u.pc(e),u.cc(2).onChangePage(t)}),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=u.cc(2);u.Bb(3),u.ic("ngModel",e.searchedKeyword),u.Bb(1),u.ic("routerLink",u.kc(10,ie)),u.Bb(2),u.ic("nbTreeGrid",e.tableDataSource)("dataSource",u.fc(7,7,e.tableDataSource,e.searchedKeyword)),u.Bb(2),u.ic("nbTreeGridHeaderRowDef",e.columnsItems),u.Bb(1),u.ic("nbTreeGridRowDefColumns",e.columnsItems),u.Bb(14),u.ic("items",e.itemsPagination)}}function ce(e,t){if(1&e&&(u.Tb(0,"div"),u.wc(1,A,2,0,"h2",0),u.wc(2,re,24,11,"nb-card",1),u.Sb()),2&e){const e=u.cc();u.Bb(1),u.ic("ngIf",0===e.tableDataSource),u.Bb(1),u.ic("ngIf",0!==e.tableDataSource)}}const ae=[{path:"customers",component:(()=>{class e{constructor(e,t,n){this.apollo=e,this.router=t,this.route=n,this.loadingSpinner=!1,this.columnsItems=["id","name","discountRate","view"],this.itemsPagination=[],this.companyId=d.a.get("companyId")}ngOnInit(){this.getCustomers(),this.refreshData()}refreshData(){this.apollo.watchQuery({query:s.b,variables:{customerId:this.companyId}}).refetch()}getCustomers(){this.loadingSpinner=!0,this.query=this.apollo.watchQuery({query:s.b,variables:{customerId:this.companyId}}).valueChanges.subscribe(e=>{this.tableDataSource=e.data&&e.data.findCustomerByCompany,this.itemsPagination=e.data&&e.data.findCustomerByCompany,this.loadingSpinner=!1})}onChangePage(e){this.tableDataSource=e}ngOnDestroy(){this.query.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(l.b),u.Nb(r.c),u.Nb(r.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-customers"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","tableStyle",4,"ngIf"],[1,"tableStyle"],[1,"table-header"],["nbInput","","placeholder","Search...","id","search",1,"search-input",3,"ngModel","ngModelChange"],["nbButton","","shape","semi-round","outline","","status","success","size","large",3,"routerLink"],["icon","plus-square-outline"],[3,"nbTreeGrid","dataSource"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","id"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","name"],["nbTreeGridColumnDef","discountRate"],["nbTreeGridColumnDef","view"],["nbTreeGridCell","",3,"routerLink",4,"nbTreeGridCellDef"],[3,"items","changePage"],["nbTreeGridHeaderRow",""],["nbTreeGridRow",""],["nbTreeGridHeaderCell",""],["nbTreeGridCell",""],["nbTreeGridCell","",3,"routerLink"],["icon","eye-outline"]],template:function(e,t){1&e&&(u.wc(0,j,1,0,"app-spinner",0),u.wc(1,ce,3,2,"div",0)),2&e&&(u.ic("ngIf",!0===t.loadingSpinner),u.Bb(1),u.ic("ngIf",!1===t.loadingSpinner))},directives:[i.o,z.a,m.h,m.g,m.q,c.a,c.h,c.k,m.c,r.d,m.n,m.U,m.Y,m.bb,m.T,m.V,m.R,m.i,E.a,m.X,m.ab,m.W,m.S],pipes:[Q.a],styles:['h2[_ngcontent-%COMP%]{text-align:center;margin-top:5%}.tableStyle[_ngcontent-%COMP%]{width:80%;margin:5% 10%}.table-header[_ngcontent-%COMP%]{margin:2% 0}.table-header[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.table-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;width:25%}.table-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{float:right;width:25%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;color:#fffaf0;border-color:#faebd7}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:400px){.nb-column-discountRate[_ngcontent-%COMP%], .nb-column-id[_ngcontent-%COMP%], .nb-column-name[_ngcontent-%COMP%], .nb-column-view[_ngcontent-%COMP%]{width:25%}}@media screen and (min-width:700px){.nb-column-name[_ngcontent-%COMP%]{width:50%}.nb-column-discountRate[_ngcontent-%COMP%], .nb-column-id[_ngcontent-%COMP%], .nb-column-view[_ngcontent-%COMP%]{width:10%}}']}),e})(),data:{title:"List of Customers"}},{path:"customers/detail/:id",component:W,data:{title:"Customer Details"}},{path:"customers/create",component:G,data:{title:"Add Customer"}},{path:"customers/edit/:id",component:G,data:{title:"Edit Customer"}}];let oe=(()=>{class e{}return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[r.g.forChild(ae)],r.g]}),e})();var se=n("kg2i"),be=n("iL26"),de=n("/R+O");let ue=(()=>{class e{}return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[i.c,oe,c.e,c.n,se.a,be.a,de.a]]}),e})()}}]);