(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{PNE7:function(t,n,e){"use strict";e.r(n),e.d(n,"ProductGroupModule",function(){return W});var i=e("SVse"),o=e("iInd"),r=e("s7LF"),a=e("LetT"),c=e("jG+y"),s=e("p46w"),d=e.n(s),u=e("7B+B"),b=e("8Y7J"),l=e("nbgS"),p=e("tKwJ");function g(t,n){1&t&&(b.Tb(0,"div"),b.yc(1,"Name is required"),b.Sb())}function m(t,n){if(1&t&&(b.Tb(0,"div",6),b.wc(1,g,2,0,"div",13),b.Sb()),2&t){const t=b.cc();b.Bb(1),b.ic("ngIf",t.f.name.errors.required)}}function h(t,n){1&t&&(b.Tb(0,"div"),b.yc(1,"Image is required"),b.Sb())}function f(t,n){if(1&t&&(b.Tb(0,"div",6),b.wc(1,h,2,0,"div",13),b.Sb()),2&t){const t=b.cc();b.Bb(1),b.ic("ngIf",t.f.image.errors.required)}}function y(t,n){if(1&t&&(b.Tb(0,"nb-option",15),b.yc(1),b.Sb()),2&t){const t=n.$implicit,e=n.index;b.ic("value",t.id||e),b.Bb(1),b.zc(t.name)}}function S(t,n){1&t&&(b.Tb(0,"span"),b.yc(1,"Save"),b.Sb())}function C(t,n){if(1&t&&(b.Tb(0,"span",16),b.yc(1,"Loading..."),b.Sb()),2&t){const t=b.cc();b.ic("nbSpinner",t.loadingSpinner)}}const P=function(t){return{"is-invalid":t}};let w=(()=>{class t{constructor(t,n,e,i){this.apollo=t,this.router=n,this.route=e,this.formBuilder=i,this.productGroup={id:"",name:"",image:"",company:""},this.id="",this.name="",this.image="",this.company="",this.submitted=!1,this.loadingSpinner=!1}ngOnInit(){this.selectedCompany=d.a.get("companyId"),this.getCompanies(),this.form=this.formBuilder.group({name:["",[r.q.required,a.a]],image:["",[r.q.required,a.a]],company:["",[r.q.required]]});const t=this.route.snapshot.params.id;void 0!==t?(this.title="Update Product Group",this.query=this.apollo.watchQuery({query:c.a,variables:{productGroupId:t}}).valueChanges.subscribe(t=>{this.productGroup=t.data.productGroup,this.id=this.productGroup.id,this.form.setValue({name:this.productGroup.name,image:this.productGroup.image,company:this.selectedCompany})})):this.title="Create Product Group",this.form.setValue({name:"",image:"",company:this.selectedCompany})}get f(){return this.form.controls}onChange(t){this.selectedCompany=t}onSubmit(){void 0!==this.route.snapshot.params.id?this.update():this.create()}create(){this.submitted=!0;const t=this.form.value;this.form.invalid?console.log("form invalid"):(this.loadingSpinner=!0,this.apollo.mutate({mutation:c.c,variables:{name:t.name,image:t.image,company:t.company}}).subscribe(({})=>{this.loadingSpinner=!1,this.submitted=!1,this.form.reset(),this.router.navigate(["/products-group"])},t=>{this.loadingSpinner=!1,this.queryError="Product Group Name already exist"}))}update(){this.submitted=!0;const t=this.form.value;this.form.invalid?console.log("form invalid"):(this.loadingSpinner=!0,this.apollo.mutate({mutation:c.d,variables:{id:this.id,name:t.name,image:t.image,company:t.company}}).subscribe(({})=>{this.loadingSpinner=!1,this.submitted=!1,this.form.reset(),this.router.navigate(["/products-group"])},t=>{this.loadingSpinner=!1,this.queryError="Product Group Name already exist"}))}getCompanies(){this.query=this.apollo.watchQuery({query:u.a}).valueChanges.subscribe(t=>{this.companies=t.data&&t.data.companies},t=>{console.log(t)})}ngOnDestroy(){this.query.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b.Nb(l.b),b.Nb(o.c),b.Nb(o.a),b.Nb(r.b))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-product-group-edit"]],decls:27,vars:17,consts:[[1,"centerElement"],[1,"titlecenter"],["novalidate","",3,"formGroup","ngSubmit"],["nbInput","","fullWidth","","shape","round","required","","id","name","type","text","formControlName","name",1,"full-width",3,"ngClass"],["for","name"],["aria-hidden","true"],[1,"invalid-feedback"],["class","invalid-feedback",4,"ngIf"],["nbInput","","fullWidth","","shape","round","required","","id","image","type","text","formControlName","image",1,"full-width",3,"ngClass"],["for","image"],["shape","round","filled","","status","info","formControlName","company","name","companies",1,"hidden",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["nbSpinnerSize","medium","nbSpinnerStatus","danger","nbButton","","shape","round","size","medium","status","success","type","submit",3,"nbSpinner","disabled"],[4,"ngIf"],[3,"nbSpinner",4,"ngIf"],[3,"value"],[3,"nbSpinner"]],template:function(t,n){1&t&&(b.Tb(0,"div",0),b.Tb(1,"h3",1),b.yc(2),b.Sb(),b.Tb(3,"form",2),b.ac("ngSubmit",function(){return n.onSubmit()}),b.Tb(4,"div"),b.Ob(5,"input",3),b.Tb(6,"label",4),b.yc(7,"Product Group Name "),b.Tb(8,"span",5),b.yc(9,"*"),b.Sb(),b.Sb(),b.Tb(10,"div",6),b.Tb(11,"span"),b.yc(12),b.Sb(),b.Sb(),b.wc(13,m,2,1,"div",7),b.Sb(),b.Tb(14,"div"),b.Ob(15,"input",8),b.Tb(16,"label",9),b.yc(17,"Image "),b.Tb(18,"span",5),b.yc(19,"*"),b.Sb(),b.Sb(),b.wc(20,f,2,1,"div",7),b.Sb(),b.Tb(21,"div"),b.Tb(22,"nb-select",10),b.ac("selectedChange",function(t){return n.selectedCompany=t})("selectedChange",function(t){return n.onChange(t)}),b.wc(23,y,2,2,"nb-option",11),b.Sb(),b.Sb(),b.Tb(24,"button",12),b.wc(25,S,2,0,"span",13),b.wc(26,C,2,1,"span",14),b.Sb(),b.Sb(),b.Sb()),2&t&&(b.Bb(2),b.zc(n.title),b.Bb(1),b.ic("formGroup",n.form),b.Bb(2),b.ic("ngClass",b.lc(13,P,n.submitted&&n.f.name.errors)),b.Bb(7),b.Ac(" ",n.queryError," "),b.Bb(1),b.ic("ngIf",n.submitted&&n.f.name.errors),b.Bb(2),b.ic("ngClass",b.lc(15,P,n.submitted&&n.f.image.errors)),b.Bb(5),b.ic("ngIf",n.submitted&&n.f.image.errors),b.Bb(2),b.ic("selected",n.selectedCompany),b.Bb(1),b.ic("ngForOf",n.companies),b.Bb(1),b.ic("nbSpinner",n.loadingSpinner)("disabled",n.form.invalid),b.Bb(1),b.ic("ngIf",!1===n.loadingSpinner),b.Bb(1),b.ic("ngIf",!0===n.loadingSpinner))},directives:[r.s,r.i,r.d,p.q,r.a,r.o,r.h,r.c,i.m,i.o,p.B,i.n,p.c,p.G,p.A],styles:["full-width[_ngcontent-%COMP%]{width:90%}.centerElement[_ngcontent-%COMP%]{margin:0 25%;width:50%}label[_ngcontent-%COMP%]{margin:0 3%}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{direction:ltr;text-align:left}input[_ngcontent-%COMP%]{margin:1% 0}.titlecenter[_ngcontent-%COMP%]{text-align:center;margin:5% 20%}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:center;justify-content:center;margin:3% 40%}.invalid-feedback[_ngcontent-%COMP%]{text-align:left;margin:2% 0 2% 2%}.hidden[_ngcontent-%COMP%]{display:none!important}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{position:relative;width:100%}input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block}label[_ngcontent-%COMP%]{margin:0 15px;padding:0 0 5px;top:-37px;transition:all .5s ease-in-out;z-index:1}input[type][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], input[type][_ngcontent-%COMP%]:valid + label[_ngcontent-%COMP%]{top:-70px;font-size:.8em}"]}),t})();var T=e("Mpyp");function O(t,n){1&t&&b.Ob(0,"app-spinner")}const G=function(t){return["/products-group/edit/",t]};function v(t,n){if(1&t){const t=b.Ub();b.Tb(0,"nb-card"),b.Tb(1,"nb-card-header"),b.Ob(2,"img",2),b.Sb(),b.Tb(3,"nb-card-body"),b.Tb(4,"table",3),b.Tb(5,"tr"),b.Tb(6,"th"),b.yc(7,"productGroup Name"),b.Sb(),b.Tb(8,"th"),b.yc(9,"Created Date"),b.Sb(),b.Sb(),b.Tb(10,"tr"),b.Tb(11,"td"),b.yc(12),b.Sb(),b.Tb(13,"td"),b.yc(14),b.dc(15,"date"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Tb(16,"nb-card-footer"),b.Tb(17,"button",4),b.Ob(18,"nb-icon",5),b.Sb(),b.Tb(19,"button",6),b.ac("click",function(){b.pc(t);const n=b.cc();return n.delete(n.productGroup.id)}),b.Ob(20,"nb-icon",7),b.Sb(),b.Sb(),b.Sb()}if(2&t){const t=b.cc();b.Bb(2),b.jc("src",t.productGroup.image,b.rc),b.jc("alt",t.productGroup.image),b.Bb(10),b.zc(t.productGroup.name),b.Bb(2),b.zc(b.ec(15,5,t.productGroup.created)),b.Bb(3),b.ic("routerLink",b.lc(7,G,t.productGroup.id))}}let M=(()=>{class t{constructor(t,n,e){this.apollo=t,this.router=n,this.route=e,this.loadingSpinner=!1,this.productGroup={id:"",name:"",image:"",created:""}}ngOnInit(){this.getProductGroup()}getProductGroup(){this.loadingSpinner=!0,this.query=this.apollo.watchQuery({query:c.a,variables:{productGroupId:this.route.snapshot.params.id}}).valueChanges.subscribe(t=>{this.productGroup=t.data.productGroup,this.loadingSpinner=!1})}delete(t){this.apollo.mutate({mutation:c.e,variables:{id:this.route.snapshot.params.id}}).subscribe(({})=>{this.router.navigate(["/products-group"])},t=>{console.log("there was an error sending the query",t)})}ngOnDestroy(){this.query.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b.Nb(l.b),b.Nb(o.c),b.Nb(o.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-product-group"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngIfProductGroup","ngIf"],[3,"src","alt"],[1,"tableStyle"],["nbButton","","shape","rectangle","outline","","status","success","size","large",3,"routerLink"],["icon","edit-2-outline"],["nbButton","","shape","rectangle","outline","","status","success","size","large",3,"click"],["icon","trash-2-outline"]],template:function(t,n){1&t&&(b.wc(0,O,1,0,"app-spinner",0),b.wc(1,v,21,9,"nb-card",1)),2&t&&(b.ic("ngIf",!0===n.loadingSpinner),b.Bb(1),b.ic("ngIf",!1===n.loadingSpinner))},directives:[i.o,T.a,p.h,p.j,p.g,p.i,p.c,o.d,p.n],pipes:[i.e],styles:["nb-card[_ngcontent-%COMP%]{text-align:center;justify-content:center;margin:5% 10%;width:80%}img[_ngcontent-%COMP%]{margin:0;width:100%;height:300px}.tableStyle[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.tableStyle[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tableStyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.tableStyle[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:center;color:#fffaf0}nb-card-footer[_ngcontent-%COMP%]{justify-content:start;width:100%}button[_ngcontent-%COMP%]{text-align:center;width:30%}"]}),t})();var _=e("clcC"),B=e("cZdB");function I(t,n){1&t&&b.Ob(0,"app-spinner")}function q(t,n){1&t&&(b.Tb(0,"h2"),b.yc(1,"No Product Groups yet"),b.Sb())}function x(t,n){1&t&&b.Ob(0,"tr",17)}function D(t,n){1&t&&b.Ob(0,"tr",18)}function N(t,n){1&t&&(b.Tb(0,"th",19),b.yc(1,"ID"),b.Sb())}function k(t,n){if(1&t&&(b.Tb(0,"td",20),b.yc(1),b.Sb()),2&t){const t=n.index;b.Bb(1),b.zc(t+1)}}function L(t,n){1&t&&(b.Tb(0,"th",19),b.yc(1,"Name"),b.Sb())}function R(t,n){if(1&t&&(b.Tb(0,"td",20),b.yc(1),b.Sb()),2&t){const t=n.$implicit;b.Bb(1),b.zc(t.name||"-")}}function z(t,n){1&t&&(b.Tb(0,"th",19),b.yc(1,"Details"),b.Sb())}const H=function(t){return["/products-group/detail/",t]};function j(t,n){1&t&&(b.Tb(0,"td",21),b.Ob(1,"nb-icon",22),b.Sb()),2&t&&b.ic("routerLink",b.lc(1,H,n.$implicit.id))}const Q=function(){return["/products-group/create"]};function E(t,n){if(1&t){const t=b.Ub();b.Tb(0,"nb-card",2),b.Tb(1,"nb-card-body"),b.Tb(2,"div",3),b.Tb(3,"input",4),b.ac("ngModelChange",function(n){return b.pc(t),b.cc(2).searchedKeyword=n}),b.Sb(),b.Tb(4,"button",5),b.Ob(5,"nb-icon",6),b.Sb(),b.Sb(),b.Tb(6,"table",7),b.dc(7,"filter"),b.wc(8,x,1,0,"tr",8),b.wc(9,D,1,0,"tr",9),b.Rb(10,10),b.wc(11,N,2,0,"th",11),b.wc(12,k,2,1,"td",12),b.Qb(),b.Rb(13,13),b.wc(14,L,2,0,"th",11),b.wc(15,R,2,1,"td",12),b.Qb(),b.Rb(16,14),b.wc(17,z,2,0,"th",11),b.wc(18,j,2,3,"td",15),b.Qb(),b.Sb(),b.Sb(),b.Tb(19,"nb-card-footer"),b.Tb(20,"app-pagination",16),b.ac("changePage",function(n){return b.pc(t),b.cc(2).onChangePage(n)}),b.Sb(),b.Sb(),b.Sb()}if(2&t){const t=b.cc(2);b.Bb(3),b.ic("ngModel",t.searchedKeyword),b.Bb(1),b.ic("routerLink",b.kc(10,Q)),b.Bb(2),b.ic("nbTreeGrid",t.tableDataSource)("dataSource",b.fc(7,7,t.tableDataSource,t.searchedKeyword)),b.Bb(2),b.ic("nbTreeGridHeaderRowDef",t.columnsItems),b.Bb(1),b.ic("nbTreeGridRowDefColumns",t.columnsItems),b.Bb(11),b.ic("items",t.itemsPagination)}}function K(t,n){if(1&t&&(b.Tb(0,"div"),b.wc(1,q,2,0,"h2",0),b.wc(2,E,21,11,"nb-card",1),b.Sb()),2&t){const t=b.cc();b.Bb(1),b.ic("ngIf",0===t.tableDataSource),b.Bb(1),b.ic("ngIf",0!==t.tableDataSource)}}const F=[{path:"products-group",component:(()=>{class t{constructor(t){this.apollo=t,this.loadingSpinner=!1,this.columnsItems=["id","name","view"],this.itemsPagination=[],this.companyId=d.a.get("companyId")}ngOnInit(){this.getProductGroups(),this.refreshData()}refreshData(){this.apollo.watchQuery({query:c.b,variables:{productGroupId:this.companyId}}).refetch()}getProductGroups(){this.loadingSpinner=!0,this.query=this.apollo.watchQuery({query:c.b,variables:{productGroupId:this.companyId}}).valueChanges.subscribe(t=>{this.tableDataSource=t.data&&t.data.findProductGroupByCompany,this.itemsPagination=t.data&&t.data.findProductGroupByCompany,this.loadingSpinner=!1})}onChangePage(t){this.tableDataSource=t}ngOnDestroy(){this.query.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b.Nb(l.b))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-product-groups"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","tableStyle",4,"ngIf"],[1,"tableStyle"],[1,"table-header"],["nbInput","","placeholder","Search...","id","search",1,"search-input",3,"ngModel","ngModelChange"],["nbButton","","shape","semi-round","outline","","status","success","size","large",3,"routerLink"],["icon","plus-square-outline"],[3,"nbTreeGrid","dataSource"],["nbTreeGridHeaderRow","",4,"nbTreeGridHeaderRowDef"],["nbTreeGridRow","",4,"nbTreeGridRowDef","nbTreeGridRowDefColumns"],["nbTreeGridColumnDef","id"],["nbTreeGridHeaderCell","",4,"nbTreeGridHeaderCellDef"],["nbTreeGridCell","",4,"nbTreeGridCellDef"],["nbTreeGridColumnDef","name"],["nbTreeGridColumnDef","view"],["nbTreeGridCell","",3,"routerLink",4,"nbTreeGridCellDef"],[3,"items","changePage"],["nbTreeGridHeaderRow",""],["nbTreeGridRow",""],["nbTreeGridHeaderCell",""],["nbTreeGridCell",""],["nbTreeGridCell","",3,"routerLink"],["icon","eye-outline"]],template:function(t,n){1&t&&(b.wc(0,I,1,0,"app-spinner",0),b.wc(1,K,3,2,"div",0)),2&t&&(b.ic("ngIf",!0===n.loadingSpinner),b.Bb(1),b.ic("ngIf",!1===n.loadingSpinner))},directives:[i.o,T.a,p.h,p.g,p.q,r.a,r.h,r.k,p.c,o.d,p.n,p.U,p.Y,p.bb,p.T,p.V,p.R,p.i,_.a,p.X,p.ab,p.W,p.S],pipes:[B.a],styles:['h2[_ngcontent-%COMP%]{text-align:center;margin-top:5%}.tableStyle[_ngcontent-%COMP%]{width:80%;margin:5% 10%}.table-header[_ngcontent-%COMP%]{margin:2% 0}.table-header[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.table-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;width:25%}.table-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{float:right;width:25%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center;color:#fffaf0;border-color:#faebd7}.nb-column-name[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:400px){.nb-column-id[_ngcontent-%COMP%], .nb-column-name[_ngcontent-%COMP%], .nb-column-view[_ngcontent-%COMP%]{width:33%}}@media screen and (min-width:700px){.nb-column-name[_ngcontent-%COMP%]{width:50%}.nb-column-id[_ngcontent-%COMP%], .nb-column-view[_ngcontent-%COMP%]{width:10%}}']}),t})(),data:{title:"List of ProductGroups"}},{path:"products-group/detail/:id",component:M,data:{title:"ProductGroups Details"}},{path:"products-group/create",component:w,data:{title:"Add ProductGroups"}},{path:"products-group/edit/:id",component:w,data:{title:"Edit ProductGroups"}}];let J=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(n){return new(n||t)},imports:[[o.g.forChild(F)],o.g]}),t})();var U=e("kg2i"),V=e("iL26"),A=e("/R+O");let W=(()=>{class t{}return t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({factory:function(n){return new(n||t)},imports:[[i.c,J,r.e,r.n,U.a,V.a,A.a]]}),t})()}}]);